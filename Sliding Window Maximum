#include <bits/stdc++.h>
vector<int> maxSlidingWindow(vector<int> &nums, int n, int k) {
    deque<int> temp;
    vector<int> ans;
    for (int i = 0; i < k; i++) {
        while (!temp.empty() && nums[i] >= nums[temp.back()]) {
            temp.pop_back();
        }
        temp.push_back(i);
    }
    ans.push_back(nums[temp.front()]);
    for (int i = k; i < n; i++) {
        while (!temp.empty() && temp.front() <= i - k) {
            temp.pop_front();
        }
        while (!temp.empty() && nums[i] >= nums[temp.back()]) {
            temp.pop_back();
        }
        temp.push_back(i);
        ans.push_back(nums[temp.front()]);
    }
    return ans;
}
